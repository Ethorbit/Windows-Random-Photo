<!-- Web page created by Ethan Christie -->

<html>
    <head>
        <title>Random Photo - By Ethorbit</title>
        <link rel="stylesheet" type="text/css" href="styles\index.css">
        <link rel="stylesheet" type="text/css" href="styles\info.css">
        <link rel="stylesheet" type="text/css" href="styles\settings.css">
    </head>

    <body>  
        <picture id="gifimg"></picture>

        <div id="ImgOverlay">
            <h1 id="ImgName"></h1>
            <div id="FillImg"></div>

            <div id="toolbar">
                <button type="button" id="Settings"><img src="gear.png" alt="settings" height="50" width="50" class="tbImg"></button>
                <button type="button" id="PickFolder"><img src="folder.png" height="50" width="50" class="tbImg"></button>
                <button type="button" id="Fullscreen"><img src="fullscreen.png" height="50" width="50" class="tbImg"></button>
                <button type="button" id="Slideshow"><img src="slideshow.png" height="50" width="50" class="tbImg"></button>
                <button type="button" id="Refresh"><img src="refresh.png" alt="info" height="50" width="50" class="tbImg"></button>
                <button type="button" id="DeleteImg"><img src="delete.png" alt="delete" height="50" width="50" class="tbImg"></button>
                <button type="button" id="Info"><img src="info.png" alt="info" height="50" width="50" class="tbImg"></button>
            </div> 

            <div id="NoImageFound">
                <h1>No image found?</h1>
                <h2>Formats supported:</h2>
                <h3>
                    JPG,
                    PNG,
                    BMP,
                    GIF,
                    SVG,
                    WebP
                </h3>
            </div>
        
            <div id="SettingsMenu" class="BtnMenu">
                <div class="container">
                    <div id="CenterSettings">
                        <h1>Settings</h1>
                        <hr>
                        <fixedform>
                            <div id="Ctrls">
                                <div id="HotkeyCtrls">
                                    <h2>Hotkeys</h2>
                                    <hr>
                                    <li>Hide Overlay:</li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="HideOverlayHotkey" section="Hotkeys">

                                    <li>Stop Slideshow:</li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="StopSlideshowHotkey" section="Hotkeys">

                                    <li>Next Image: </li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="NextImgHotkey" section="Hotkeys">

                                    <li>Previous Image: </li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="PrevImgHotkey" section="Hotkeys">

                                    <li>Shuffle Images</li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="ShuffleImgHotkey" section="Hotkeys">

                                    <li>Zoom at cursor: </li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="ZoominHotkey" section="Hotkeys">

                                    <li>Zoom out: </li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="ZoomoutHotkey" section="Hotkeys">
                                    
                                    <li>Zoom all out:</li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="ZoomoutAllHotkey" section="Hotkeys">

                                    <li>Toggle Fullscreen: </li>
                                        <img src="reset.png" alt="reset" height="12" width="12" style="display:inline-block;">
                                        <input type="text" value="Enter a key" maxlength="1" name="FullscreenHotkey" section="Hotkeys">
                                </div>
                                <div id="BehaviorCtrls">
                                    <h2>Behavior</h2>
                                    <hr>
                                    <img src="reset.png" alt="resetSection" height="20" width="20" style="display:inline-block; margin-right: 5dip;">
                                    <h3 style="display: inline-block;">Overlay</h3>
                                    <ul>
                                        <img src="questionmark.png" alt="hint" height="20" width="20" style="display:inline-block;">
                                        <div class="HintText" style="display:inline-block;">
                                            How long it takes before the image's overlay hides itself.
                                        </div>
                                        <li style="display: inline-block;">Hide time </li> <span>(ms):</span>   
                                        <input type="hslider" min="100" max="10000" value="700" class="sliderEle" name="OverlayHideTime" section="Behavior"> <span class="prevSlider" data="ms">700ms</span>
                                        <br>
                                        <br>     
                                        <img src="questionmark.png" alt="hint" height="20" width="20" style="display:inline-block;">
                                        <div class="HintText" style="display:inline-block;">
                                            Hide the toolbar as well when the overlay hides itself.
                                        </div>       
                                        <li class="checkbox">Include toolbar: </li>
                                        <input type="checkbox" name="OverlayHideToolbar" section="Behavior">         
                                        <div></div>   
                                        <li class="checkbox">Include filepath: </li>
                                        <input type="checkbox" name="OverlayHideName" section="Behavior">   
                                    </ul>
                                    <img src="reset.png" alt="resetSection" height="20" width="20" style="display:inline-block; margin-right: 5dip;">
                                    <h3 style="display: inline-block;">Slideshow</h3>
                                    <hr>
                                    <ul>
                                        <img src="questionmark.png" alt="hint" height="20" width="20" style="display:inline-block;">
                                        <div class="HintText" style="display:inline-block;">
                                            Inactivity time before a new image is shown.
                                        </div>
                                        <li style="display: inline-block;">Display time </li> <span>(sec):</span>
                                        <input type="hslider" min="1" max="60" value="5" class="sliderEle" name="SlideshowDisplayTime" section="Behavior"> <span class="prevSlider" data="s">5s</span>                                                
                                    </ul>
                                    <img src="reset.png" alt="resetSection" height="20" width="20" style="display:inline-block; margin-right: 5dip;">
                                    <h3 style="display: inline-block;">Content</h3>
                                    <hr>
                                    <ul>
                                        <img src="questionmark.png" alt="hint" height="20" width="20" style="display:inline-block;">
                                        <div class="HintText" style="display:inline-block;">
                                            Swipe/drag left or right on image to change images.
                                        </div>
                                        <li class="checkbox">Image Swipe: </li><input type="checkbox" name="ContentSwipeImages" section="Behavior">
                                        <div></div>
                                        <li class="checkbox">Stretch: </li><input type="checkbox" name="ContentStretch" section="Behavior">
                                        <div>
                                        <li style="display: inline-block;">Zoom multiplier: </li>
                                        <input type="hslider" min="5" max="500" value="5" step="5" class="sliderEle" name="ContentZoomMultiplier" section="Behavior"> <span class="prevSlider" data="%">5%</span>
                                        </div>    

                                        <li>Zoom Method:</li>
                                        <select type="dropdown" name="ContentZoomMethod">
                                            <option value="Center">Center</option>
                                            <option value="Cursor" selected>Cursor</option>
                                        </select>
                                    </ul>
                                </div>
                            </div>  
                            <hr id="lastHr">
                            <button type="cancel">Cancel</button>
                            <button type="submit">Save</button>
                        </fixedform>
                    </div>
                </div>
            </div>

            <div id="InfoMenu" class="BtnMenu">
                <div class="container">
                    <div>
                        <h1>Info</h1>
                        <br>
                        <hr>
                        <h3>
                            Random Photo is an application designed for viewing photos from a folder in a random order
                            <br>
                            and was made using the <span href="https://sciter.com/">Sciter library</span>.
                            <br>
                            <br>
                            <br>
                            Random Photo was developed by Ethorbit (Ethan Christie), the project began on February 25th 2020.
                            <br>
                            It is open source and the repository can be found <span href="https://github.com/Ethorbit/RandomPhoto-PC">here</span>.
                        </h3>
                        <hr id="dev">
                        <h1>Support the developer</h1>
                        <h3>
                            Random Photo is free and will <b>never</b> cost money, so if you would like to support the developer you can make a donation <span href="https://www.paypal.me/Ethorbit">here</span>!
                        </h3>
                    </div>
                </div>
            </div>

            <div id="ImgMenu">
                <button type="button" class="ImgMenuBtn" id="PrevImg"><img src="arrow.png" alt="previous img" height="50" width="50" class="arrow" id="PrevImgImg"></button>
                <button type="button" class="ImgMenuBtn" id="NextImg"><img src="arrow.png" alt="next img" height="50" width="50" class="arrow" id="NextImgImg"></button>
            </div>
        </div>

        <script type="text/tiscript">
            include "scripts/global.tis";
            include "scripts/settings.tis";
            include "scripts/content.tis";
            include "scripts/menu.tis";
            include "scripts/buttons.tis";

            function self.ready()
            {   
                view.windowMinSize = (120, 120); 
                view.windowIcon = ("icon.ico");  
                $(#ImgMenu).style["visibility"] = "none";    

                // Add a button with click handler to all button menus:
                for (var v in $$(.BtnMenu)) 
                {
                    var thisEle = v;
                    v.style["cursor"] = "default";

                    v.$(.container).$prepend
                    (
                        <div class="rightBtn">
                            <img src="x.png" alt="Close" class="BtnMenuClose" class="fakeBtn">
                        </div>
                    ).on("click", () => 
                    {
                        if (ImageList.length == 0)
                            $(#NoImageFound).style["visibility"] = "visible";
                            
                        thisEle.style["visibility"] = "none";
                        WindowChanged();
                    });

                    v.style["visibility"] = "none";
                }

                // Initialize everything:
                self.timer(100ms, () =>
                {
                    WindowChanged();
                    UpdateSettingsList();

                    if (imgDirectory == null)
                    {
                        UpdateImageList(null);
                        DisplayFirstImage();
                    }

                    if (GetSetting("OverlayHideName") == true)
                        $(#ImgName).style["visibility"] = "none";

                    return false;
                });

                self.timer(120ms, () =>
                {
                    CancelZoom();
                });
    
                // One-time loop to save all key names & key codes for use with hotkeys:
                for (var (keyname, keycode) in Event) 
                {
                    var keyStr = keyname.toString();
                    if (keyStr.substr(0, 2) == "VK")
                    {
                        var fixedName = keyStr.replace("VK_", "");
                        Keys.KeyList.push(new Keys.Key(fixedName, keycode));
                    }
                }
            }        
         </script>
    </body>
</html>